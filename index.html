<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Middle Z - Innovation rooted in people, scaled by technology</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
            color: #0a0a0a;
            overflow-x: hidden;
            background: #fafafa;
        }

        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: linear-gradient(180deg, #4f46e5, #7c3aed); border-radius: 2px; }

        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.08);
            z-index: 1000;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 24px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 28px;
            font-weight: 800;
            color: #0a0a0a;
            text-decoration: none;
            letter-spacing: -1.5px;
            transition: all 0.3s ease;
        }

        .logo:hover { transform: scale(1.05); }

        .nav-toggle {
            display: none;
            flex-direction: column;
            cursor: pointer;
            gap: 4px;
            padding: 8px;
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        .nav-toggle:hover { background: rgba(0, 0, 0, 0.05); }

        .nav-toggle span {
            width: 24px;
            height: 2px;
            background: #0a0a0a;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 1px;
        }

        .nav-toggle.active span:nth-child(1) { transform: rotate(45deg) translate(6px, 6px); }
        .nav-toggle.active span:nth-child(2) { opacity: 0; transform: scale(0); }
        .nav-toggle.active span:nth-child(3) { transform: rotate(-45deg) translate(6px, -6px); }

        .nav-menu {
            position: fixed;
            top: 0;
            right: -400px;
            width: 400px;
            height: 100vh;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            transition: right 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            padding: 80px 40px;
            overflow-y: auto;
            z-index: 1001;
        }

        .nav-menu.active { right: 0; box-shadow: -10px 0 40px rgba(0, 0, 0, 0.3); }

        .nav-close {
            position: absolute;
            top: 30px;
            right: 30px;
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .nav-close:hover { background: rgba(255, 255, 255, 0.1); transform: rotate(90deg); }

        .nav-links {
            list-style: none;
            margin-bottom: 60px;
        }

        .nav-links li {
            margin-bottom: 30px;
            opacity: 0;
            transform: translateX(30px);
            transition: all 0.4s ease;
        }

        .nav-menu.active .nav-links li { opacity: 1; transform: translateX(0); }
        .nav-links li:nth-child(1) { transition-delay: 0.1s; }
        .nav-links li:nth-child(2) { transition-delay: 0.2s; }
        .nav-links li:nth-child(3) { transition-delay: 0.3s; }
        .nav-links li:nth-child(4) { transition-delay: 0.4s; }

        .nav-links a {
            color: white;
            text-decoration: none;
            font-size: 24px;
            font-weight: 600;
            letter-spacing: -0.5px;
            display: block;
            padding: 10px 0;
            transition: all 0.3s ease;
        }

        /* Consistent magenta-amber gradient hover effect for all menu items */
        .nav-links a:hover {
            background: linear-gradient(135deg, #d946ef 0%, #f59e0b 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            transform: translateX(10px);
        }

        .nav-info {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.4s ease 0.5s;
        }

        .nav-menu.active .nav-info { opacity: 1; transform: translateY(0); }

        .nav-info h4 {
            color: white;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .nav-info p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 20px;
        }

        .nav-contact {
            color: #4f46e5;
            text-decoration: none;
            font-weight: 600;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .nav-contact:hover {
            background: linear-gradient(135deg, #d946ef 0%, #f59e0b 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .menu-btn {
            background: none;
            border: 2px solid #0a0a0a;
            padding: 12px 24px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 14px;
            color: #0a0a0a;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .menu-btn:hover { background: #0a0a0a; color: white; transform: translateY(-2px); }

        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
            padding-top: 100px;
            background: linear-gradient(135deg, rgba(10, 10, 10, 0.4) 0%, rgba(79, 70, 229, 0.2) 100%),
                        url('./images/hero-collaboration.jpg?v=2') center/cover;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(250, 250, 250, 0.7) 0%, rgba(240, 240, 240, 0.6) 100%);
            z-index: 1;
        }

        .hero-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 40px;
            position: relative;
            z-index: 2;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 80px;
            align-items: center;
        }

        .hero-content { animation: fadeInLeft 1.2s cubic-bezier(0.4, 0, 0.2, 1); }
        .hero-visual { position: relative; animation: fadeInRight 1.2s cubic-bezier(0.4, 0, 0.2, 1); }

        .hero h1 {
            font-size: clamp(32px, 6vw, 72px);
            font-weight: 800;
            color: #0a0a0a;
            line-height: 1.1;
            margin-bottom: 20px;
            letter-spacing: -2px;
        }

        .hero-subline {
            font-size: clamp(18px, 2.5vw, 24px);
            color: #4a5568;
            margin-bottom: 24px;
            font-weight: 400;
            line-height: 1.3;
            letter-spacing: -0.5px;
        }

        .hero-description {
            font-size: 16px;
            color: #0a0a0a;
            margin-bottom: 32px;
            line-height: 1.6;
            font-weight: 500;
        }

        .cta-primary {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 16px 32px;
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            color: white;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 16px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(79, 70, 229, 0.3);
        }

        .cta-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s ease;
        }

        .cta-primary:hover { transform: translateY(-3px); box-shadow: 0 8px 30px rgba(79, 70, 229, 0.4); }
        .cta-primary:hover::before { left: 100%; }

        .visual-container { position: relative; height: 500px; }

        .visual-card {
            position: absolute;
            background: white;
            border-radius: 20px;
            padding: 25px 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(0, 0, 0, 0.05);
            display: flex;
            align-items: center;
            gap: 12px;
            min-width: 200px;
        }

        .visual-card:nth-child(1) { top: 50px; left: 50px; width: 240px; animation: float 6s ease-in-out infinite; }
        .visual-card:nth-child(2) { top: 200px; right: 30px; width: 220px; animation: float 6s ease-in-out infinite 2s; }
        .visual-card:nth-child(3) { bottom: 80px; left: 100px; width: 220px; animation: float 6s ease-in-out infinite 4s; }

        .visual-card:hover { transform: translateY(-10px) scale(1.05); box-shadow: 0 30px 80px rgba(0, 0, 0, 0.15); }

        .card-icon {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
            flex-shrink: 0;
        }

        .card-content { flex: 1; min-width: 0; }

        .card-title {
            font-size: 14px;
            font-weight: 700;
            color: #0a0a0a;
            margin-bottom: 4px;
            line-height: 1.2;
        }

        .card-desc {
            font-size: 12px;
            color: #718096;
            line-height: 1.3;
        }

        .section { padding: 100px 0; position: relative; }
        .container { max-width: 1400px; margin: 0 auto; padding: 0 40px; }

        .section-header {
            text-align: center;
            margin-bottom: 80px;
            opacity: 0;
            transform: translateY(40px);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .section-header.visible { opacity: 1; transform: translateY(0); }

        .section-title {
            font-size: clamp(32px, 5vw, 56px);
            font-weight: 800;
            color: #0a0a0a;
            margin-bottom: 20px;
            letter-spacing: -2px;
        }

        .section-subtitle {
            font-size: clamp(18px, 4vw, 20px);
            color: #4a5568;
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.5;
            font-weight: 400;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
            margin-top: 60px;
        }

        .service-card {
            background: white;
            padding: 50px 40px;
            border-radius: 24px;
            border: 1px solid rgba(0, 0, 0, 0.06);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 0;
            transform: translateY(40px);
            position: relative;
            overflow: hidden;
        }

        .service-card.visible { opacity: 1; transform: translateY(0); }
        .service-card:hover { transform: translateY(-8px); box-shadow: 0 25px 80px rgba(0, 0, 0, 0.12); border-color: rgba(79, 70, 229, 0.1); }

        .service-card h3 {
            font-size: 24px;
            font-weight: 700;
            color: #0a0a0a;
            margin-bottom: 16px;
            letter-spacing: -0.5px;
        }

        .service-card p {
            color: #4a5568;
            line-height: 1.7;
            font-size: 16px;
            font-weight: 400;
        }

        .approach {
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg, rgba(10, 10, 10, 0.8) 0%, rgba(79, 70, 229, 0.6) 100%),
                        url('./images/approach-strategy.jpg') center/cover;
        }

        .approach::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.6) 0%, rgba(250, 250, 250, 0.5) 100%);
            z-index: 1;
        }

        .approach-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 100px;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        .approach-text {
            opacity: 0;
            transform: translateX(-40px);
            transition: all 1s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .approach-text.visible { opacity: 1; transform: translateX(0); }

        .exclusive-badge {
            display: inline-block;
            padding: 8px 20px;
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            color: white;
            border-radius: 50px;
            font-size: 12px;
            font-weight: 700;
            margin-bottom: 30px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
        }

        .approach h2 {
            font-size: clamp(32px, 5vw, 48px);
            font-weight: 800;
            color: #0a0a0a;
            margin-bottom: 24px;
            letter-spacing: -1.5px;
            line-height: 1.2;
        }

        .approach p {
            font-size: 18px;
            color: #4a5568;
            margin-bottom: 24px;
            line-height: 1.7;
            font-weight: 400;
        }

        .approach-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            margin-top: 40px;
        }

        .stat-item {
            text-align: center;
            padding: 25px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 16px;
            transition: all 0.3s ease;
            border: 1px solid rgba(79, 70, 229, 0.1);
        }

        .stat-item:hover { transform: translateY(-5px); background: rgba(255, 255, 255, 0.95); box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1); }

        .stat-number {
            font-size: 32px;
            font-weight: 800;
            color: #1a1a1a;
            display: block;
            letter-spacing: -1px;
        }

        .stat-label {
            font-size: 14px;
            color: #374151;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Chart stat labels should be white for visibility on dark background */
        .iterative-chart .stat-label {
            color: white;
        }

        .about-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 80px;
            align-items: start;
        }

        .about-text { display: flex; flex-direction: column; gap: 40px; }

        .about-card {
            background: white;
            padding: 40px;
            border-radius: 20px;
            border: 1px solid rgba(0, 0, 0, 0.06);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 0;
            transform: translateY(40px);
        }

        .about-card.visible { opacity: 1; transform: translateY(0); }
        .about-card:hover { transform: translateY(-5px); box-shadow: 0 15px 40px rgba(0, 0, 0, 0.08); }

        .about-card-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .about-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            flex-shrink: 0;
        }

        .about-card h3 {
            font-size: 22px;
            font-weight: 700;
            color: #0a0a0a;
            margin: 0;
            letter-spacing: -0.5px;
        }

        .about-card p {
            color: #4a5568;
            line-height: 1.7;
            font-size: 16px;
        }

        .about-values {
            background: rgba(79, 70, 229, 0.02);
            padding: 40px;
            border-radius: 20px;
            border: 1px solid rgba(79, 70, 229, 0.1);
            opacity: 0;
            transform: translateX(40px);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .about-values.visible { opacity: 1; transform: translateX(0); }

        .about-values h3 {
            font-size: 24px;
            font-weight: 700;
            color: #0a0a0a;
            margin-bottom: 30px;
            letter-spacing: -0.5px;
        }

        .values-grid { display: flex; flex-direction: column; gap: 25px; }

        .value-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 20px;
            background: white;
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        .value-item:hover { transform: translateX(10px); box-shadow: 0 5px 20px rgba(79, 70, 229, 0.1); }

        .value-icon {
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            flex-shrink: 0;
        }

        .value-item h4 {
            font-size: 16px;
            font-weight: 700;
            color: #0a0a0a;
            margin-bottom: 4px;
        }

        .value-item p {
            font-size: 14px;
            color: #718096;
        }

        .testimonials {
            position: relative;
            color: white;
            overflow: hidden;
            background-color: #1a1a1a;
            background-image: linear-gradient(135deg, rgba(10, 10, 10, 0.9) 0%, rgba(26, 26, 26, 0.8) 100%), url('./images/testimonials-workspace.jpg');
            background-position: center;
            background-size: cover;
            background-repeat: no-repeat;
        }

        .testimonials::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="dots" width="10" height="10" patternUnits="userSpaceOnUse"><circle cx="2" cy="2" r="1" fill="white" opacity="0.03"/></pattern></defs><rect width="100" height="100" fill="url(%23dots)"/></svg>');
        }

        .testimonials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 40px;
            margin-top: 60px;
            position: relative;
            z-index: 2;
        }

        .testimonial-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            padding: 40px;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 0;
            transform: translateY(40px);
            position: relative;
            cursor: pointer;
            overflow: hidden;
        }

        .testimonial-card.visible { opacity: 1; transform: translateY(0); }
        .testimonial-card:hover { transform: translateY(-8px); background: rgba(255, 255, 255, 0.08); border-color: rgba(79, 70, 229, 0.3); }

        .testimonial-popup {
            position: absolute;
            top: -60px;
            left: 50%;
            transform: translateX(-50%) scale(0);
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 14px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 10;
            white-space: nowrap;
        }

        .testimonial-popup::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 8px solid transparent;
            border-top-color: #4f46e5;
        }

        .testimonial-card:hover .testimonial-popup { transform: translateX(-50%) scale(1); }

        .testimonial-quote {
            font-size: 18px;
            line-height: 1.6;
            margin-bottom: 25px;
            font-style: italic;
            color: rgba(255, 255, 255, 0.9);
        }

        .testimonial-author { display: flex; align-items: center; gap: 15px; }

        .author-avatar {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 18px;
        }

        .author-info h4 { font-size: 16px; font-weight: 600; margin-bottom: 4px; }
        .author-info p { font-size: 14px; color: rgba(255, 255, 255, 0.7); }

        .contact { background: #fafafa; position: relative; }

        .contact-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 80px;
            align-items: start;
        }

        .contact-info {
            opacity: 0;
            transform: translateX(-40px);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .contact-info.visible { opacity: 1; transform: translateX(0); }

        .contact h2 {
            font-size: clamp(36px, 5vw, 54px);
            font-weight: 800;
            color: #0a0a0a;
            margin-bottom: 20px;
            letter-spacing: -2px;
        }

        .contact-subtitle {
            font-size: 20px;
            color: #4a5568;
            margin-bottom: 40px;
            line-height: 1.5;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            padding: 20px;
            background: white;
            border-radius: 16px;
            border: 1px solid rgba(0, 0, 0, 0.06);
            transition: all 0.3s ease;
        }

        .contact-item:hover { transform: translateX(10px); box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08); }

        .contact-icon {
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
        }

        .contact-form {
            background: white;
            padding: 50px;
            border-radius: 24px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(0, 0, 0, 0.06);
            opacity: 0;
            transform: translateX(40px);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .contact-form.visible { opacity: 1; transform: translateX(0); }
        .form-group { margin-bottom: 25px; }

        .form-group label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 16px 20px;
            background: #f9fafb;
            border: 2px solid rgba(0, 0, 0, 0.08);
            border-radius: 12px;
            color: #0a0a0a;
            font-size: 16px;
            font-family: inherit;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #4f46e5;
            background: white;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }

        .form-group textarea { resize: vertical; min-height: 120px; }

        .error-message {
            color: #ef4444;
            font-size: 14px;
            margin-top: 5px;
            min-height: 20px;
            display: block;
        }

        .form-group input.error,
        .form-group textarea.error {
            border-color: #ef4444;
            background: rgba(239, 68, 68, 0.05);
        }

        .form-status {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            font-size: 14px;
            text-align: center;
            display: none;
        }

        .form-status.success {
            background: rgba(16, 185, 129, 0.1);
            color: #059669;
            border: 1px solid rgba(16, 185, 129, 0.2);
        }

        .form-status.error {
            background: rgba(239, 68, 68, 0.1);
            color: #dc2626;
            border: 1px solid rgba(239, 68, 68, 0.2);
        }

        .submit-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            border: none;
            border-radius: 12px;
            color: white;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .submit-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s ease;
        }

        .submit-btn:hover { transform: translateY(-3px); box-shadow: 0 15px 40px rgba(79, 70, 229, 0.4); }
        .submit-btn:hover::before { left: 100%; }

        footer {
            background: #0a0a0a;
            padding: 80px 0 40px;
            color: white;
            position: relative;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 40px;
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 1fr;
            gap: 60px;
        }

        .footer-section h4 { font-size: 18px; font-weight: 700; margin-bottom: 25px; color: white; }
        .footer-section ul { list-style: none; }
        .footer-section li { margin-bottom: 12px; }

        .footer-section a {
            color: #9ca3af;
            text-decoration: none;
            font-size: 15px;
            transition: all 0.3s ease;
        }

        .footer-section a:hover { color: #4f46e5; transform: translateX(5px); }

        .footer-bottom {
            text-align: center;
            margin-top: 60px;
            padding-top: 40px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-bottom p { color: #6b7280; font-size: 14px; }

        @keyframes fadeInLeft { from { opacity: 0; transform: translateX(-40px); } to { opacity: 1; transform: translateX(0); } }
        @keyframes fadeInRight { from { opacity: 0; transform: translateX(40px); } to { opacity: 1; transform: translateX(0); } }
        @keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-15px); } }

        /* AI vs AI+HCD Demo Styles */
        .ai-demo-section {
            min-height: auto;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            position: relative;
            padding: 80px 0;
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .ai-demo-section.expanded {
            min-height: 80vh;
        }

        .ai-demo-section.full-expanded {
            min-height: 80vh;
            padding-bottom: 80px;
        }

        .demo-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 40px;
        }

        .demo-hero {
            text-align: center;
            margin-bottom: 60px;
        }

        .demo-hero h2 {
            font-size: clamp(32px, 6vw, 56px);
            font-weight: 800;
            color: white;
            margin-bottom: 20px;
            letter-spacing: -2px;
        }

        .demo-hero p {
            font-size: 20px;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 24px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .demo-badge {
            display: inline-block;
            padding: 8px 20px;
            background: rgba(124, 58, 237, 0.2);
            border: 1px solid rgba(124, 58, 237, 0.4);
            color: #a855f7;
            border-radius: 50px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            backdrop-filter: blur(10px);
        }

        .challenge-selector {
            margin-bottom: 60px;
        }

        .challenge-selector h3 {
            text-align: center;
            color: white;
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 40px;
        }

        .challenge-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            max-width: 1000px;
            margin: 0 auto;
        }

        .challenge-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 24px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 16px;
            text-align: left;
        }

        .challenge-btn:hover {
            background: rgba(124, 58, 237, 0.1);
            border-color: rgba(124, 58, 237, 0.3);
            transform: translateY(-2px);
        }

        .challenge-icon {
            font-size: 24px;
            flex-shrink: 0;
        }

        .challenge-text {
            font-size: 16px;
            font-weight: 500;
        }

        .loading-section {
            text-align: center;
            margin-bottom: 60px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease;
        }

        .loading-section.show {
            opacity: 1;
            transform: translateY(0);
        }

        .loading-section h3 {
            color: white;
            font-size: 20px;
            margin-bottom: 30px;
        }

        .loading-bars {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            max-width: 800px;
            margin: 0 auto;
        }

        .loading-bar {
            text-align: center;
        }

        .loading-label {
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
            margin-bottom: 12px;
            font-weight: 600;
        }

        .progress-bar {
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #4f46e5, #7c3aed);
            transition: width 3s ease-out;
        }

        .comparison-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-bottom: 60px;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease;
        }

        .comparison-container.show {
            opacity: 1;
            transform: translateY(0);
        }

        .response-panel {
            border-radius: 20px;
            padding: 30px;
            min-height: 400px;
        }

        .response-panel.raw-ai {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            border: 1px solid #475569;
            color: #94a3b8;
        }

        .response-panel.hcd-ai {
            background: linear-gradient(135deg, #7c3aed 0%, #f97316 100%);
            border: 1px solid #a855f7;
            color: white;
        }

        .panel-header {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .panel-header h4 {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .panel-tag {
            font-size: 12px;
            opacity: 0.8;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }

        .response-content {
            font-size: 15px;
            line-height: 1.6;
        }

        .raw-ai .response-content {
            font-family: 'Courier New', monospace;
        }

        .demo-cta {
            text-align: center;
            padding: 40px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            opacity: 0;
            transform: translateY(40px);
            transition: all 0.8s ease;
        }

        .demo-cta.show {
            opacity: 1;
            transform: translateY(0);
        }

        .demo-cta h3 {
            color: white;
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 16px;
        }

        .demo-cta p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 16px;
            margin-bottom: 24px;
        }

        .cta-button {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 16px 32px;
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            color: white;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(79, 70, 229, 0.3);
        }
        .cta-buttons {
            display: flex;
            gap: 16px;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
        }
        .reset-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 14px 24px;
            background: transparent;
            color: rgba(255, 255, 255, 0.8);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            font-weight: 500;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: inherit;
        }
        .reset-button:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.6);
            color: white;
            transform: translateY(-1px);
        }

        /* Iterative Chart Styles */
        .iterative-chart {
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            position: relative;
            padding: 80px 0;
            overflow: hidden;
        }

        .iterative-chart::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 20% 80%, rgba(139, 43, 222, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 80% 20%, rgba(139, 43, 222, 0.08) 0%, transparent 50%);
            pointer-events: none;
        }

        .iterative-chart .container {
            position: relative;
            z-index: 1;
        }

        .chart-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .chart-header .section-title {
            font-size: 2.5rem;
            font-weight: 900;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #7c3aed 0%, #f97316 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: white;
        }

        .chart-header .section-subtitle {
            color: rgba(255, 255, 255, 0.7);
            font-size: 1.1rem;
        }

        .controls {
            display: flex;
            gap: 20px;
            margin-bottom: 40px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .control-btn {
            padding: 12px 24px;
            background: rgba(139, 43, 222, 0.2);
            border: 2px solid #8b2bde;
            color: #fff;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .control-btn:hover {
            background: rgba(139, 43, 222, 0.4);
            transform: translateY(-2px);
        }

        .control-btn.active {
            background: #8b2bde;
            box-shadow: 0 10px 30px rgba(139, 43, 222, 0.5);
        }

        .chart-wrapper {
            position: relative;
            height: 500px;
            margin-bottom: 40px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 12px;
            padding: 20px;
        }

        .iterative-chart svg {
            width: 100%;
            height: 100%;
        }

        .iterative-chart .path-iterative {
            stroke: url(#iterativeStroke) !important;
            stroke-width: 4 !important;
            fill: none !important;
            stroke-linecap: round;
            stroke-linejoin: round;
            filter: drop-shadow(0 0 20px rgba(249, 115, 22, 0.5));
            opacity: 1 !important;
        }

        .iterative-chart .path-bigbuild {
            stroke: #94a3b8 !important;
            stroke-width: 4 !important;
            fill: none !important;
            stroke-linecap: round;
            stroke-linejoin: round;
            filter: drop-shadow(0 0 20px rgba(148, 163, 184, 0.3));
            opacity: 1 !important;
        }

        .axis {
            stroke: rgba(255, 255, 255, 0.2);
            stroke-width: 2;
        }

        .axis-label {
            fill: rgba(255, 255, 255, 0.6);
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .grid-line {
            stroke: rgba(255, 255, 255, 0.05);
            stroke-width: 1;
            stroke-dasharray: 5, 5;
        }

        .path-iterative {
            stroke: url(#iterativeStroke);
            stroke-width: 3;
            fill: none;
            stroke-linecap: round;
            stroke-linejoin: round;
            filter: drop-shadow(0 0 20px rgba(249, 115, 22, 0.5));
        }

        .path-bigbuild {
            stroke: #94a3b8;
            stroke-width: 3;
            fill: none;
            stroke-linecap: round;
            stroke-linejoin: round;
            stroke-dasharray: 10, 5;
            filter: drop-shadow(0 0 20px rgba(148, 163, 184, 0.3));
        }

        .milestone {
            cursor: pointer;
            transition: all 0.3s ease;
            pointer-events: all;
            opacity: 0;
            transform: scale(0);
        }


        .milestone.animate-in {
            animation: milestoneAppear 0.5s ease forwards;
        }

        .milestone:hover {
            filter: drop-shadow(0 0 15px currentColor);
        }

        .milestone-iterative {
        }

        .milestone-iterative:hover {
            filter: drop-shadow(0 0 15px #f97316);
        }

        .milestone-bigbuild {
            fill: #94a3b8;
        }

        .milestone-bigbuild:hover {
            filter: drop-shadow(0 0 15px #94a3b8);
        }

        .tooltip {
            position: fixed;
            background: rgba(10, 10, 10, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 15px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s ease;
            z-index: 1000;
            max-width: 250px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .tooltip.show {
            opacity: 1;
        }

        .tooltip-title.iterative {
            background: linear-gradient(135deg, #a855f7 0%, #ea580c 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: #f97316;
        }

        .tooltip-title.bigbuild {
            color: #94a3b8;
        }

        .tooltip-content {
            font-size: 14px;
            line-height: 1.5;
            color: rgba(255, 255, 255, 0.8);
        }

        .legend {
            display: flex;
            gap: 40px;
            justify-content: center;
            margin-bottom: 30px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            color: white;
        }

        .legend-color {
            width: 30px;
            height: 3px;
            border-radius: 2px;
        }

        .legend-color.iterative {
            background: linear-gradient(135deg, #7c3aed 0%, #f97316 100%);
            box-shadow: 0 0 10px rgba(249, 115, 22, 0.5);
        }

        .legend-color.bigbuild {
            background: #94a3b8;
            box-shadow: 0 0 10px rgba(148, 163, 184, 0.3);
        }

        .stats-section {
            margin-top: 40px;
        }

        .stats-container {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 40px;
            align-items: start;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        .iterative-chart .stat-card {
            background: rgba(255, 255, 255, 0.12);
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .iterative-chart .stat-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.18);
            border-color: rgba(255, 255, 255, 0.3);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 900;
            margin-bottom: 5px;
        }

        .stat-iterative {
            background: linear-gradient(135deg, #a855f7 0%, #ea580c 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: #f97316;
        }

        .stat-bigbuild {
            color: #94a3b8;
        }

        .insight-box {
            background: linear-gradient(135deg, rgba(124, 58, 237, 0.1), rgba(249, 115, 22, 0.1));
            border: 1px solid rgba(124, 58, 237, 0.3);
            border-radius: 16px;
            padding: 25px;
            text-align: left;
            max-width: 400px;
            min-width: 300px;
        }

        .insight-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #a855f7 0%, #ea580c 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: #f97316;
        }

        .insight-text {
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.9);
        }

        /* Animation classes */
        @keyframes drawPath {
            from {
                stroke-dasharray: 1000;
                stroke-dashoffset: 1000;
            }
            to {
                stroke-dasharray: 1000;
                stroke-dashoffset: 0;
            }
        }

        .animate-path {
            animation: drawPath 3s ease forwards;
        }

        @keyframes milestoneAppear {
            from {
                opacity: 0;
                transform: scale(0);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes milestoneAppear {
            from {
                opacity: 0;
                transform: scale(0.3);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .milestone.animate-from-bottom {
            animation: milestoneAppear 0.4s ease-out forwards;
        }


        @keyframes pulse {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.2);
                opacity: 0.7;
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        /* AI Demo Mobile Responsive Styles */
        @media (max-width: 1024px) {
            .demo-container { padding: 0 20px; }
            .comparison-container { grid-template-columns: 1fr; gap: 20px; }
            .loading-bars { grid-template-columns: 1fr; gap: 20px; }
            .challenge-options { grid-template-columns: 1fr; }

            .stats-container {
                grid-template-columns: 1fr;
                gap: 30px;
            }

            .insight-box {
                max-width: none;
                text-align: center;
            }
        }

        @media (max-width: 1024px) {
            .hero-container { grid-template-columns: 1fr; gap: 60px; text-align: center; }
            .approach-content { grid-template-columns: 1fr; gap: 60px; }
            .contact-grid { grid-template-columns: 1fr; gap: 60px; }
            .about-content { grid-template-columns: 1fr; gap: 50px; }
            .about-text { gap: 30px; }
            .about-card { padding: 30px 25px; }
            .about-values { padding: 30px 25px; transform: translateX(0); }
            .values-grid { gap: 20px; }
            .footer-content { grid-template-columns: 1fr 1fr; gap: 40px; }
        }

        @media (max-width: 768px) {
            .menu-btn { display: none; }
            .nav-toggle { display: flex; }
            .nav-container { padding: 20px; }
            .nav-menu { width: 100vw; right: -100vw; }
            .nav-menu.active { right: 0; }
            .hero { padding-top: 120px; }
            .hero-container, .container { padding: 0 20px; }
            .services-grid { grid-template-columns: 1fr; gap: 25px; }
            .service-card { padding: 35px 25px; }
            .testimonials-grid { grid-template-columns: 1fr; gap: 30px; }
            .contact-form { padding: 35px 25px; }
            .chart-header .section-title { font-size: 1.8rem; }
            .chart-wrapper { height: 400px; }
            .stats-grid { grid-template-columns: repeat(2, 1fr); }

            /* Mobile chart improvements for touch interaction */
            .milestone {
                cursor: pointer;
                -webkit-tap-highlight-color: transparent;
            }
            .footer-content { grid-template-columns: 1fr; gap: 40px; text-align: center; }
            .visual-container { height: 300px; overflow: visible; }
            .visual-card { transform: scale(0.85); position: absolute; padding: 20px 16px; }
            .visual-card:nth-child(1) { top: 20px; left: 10px; width: 240px; }
            .visual-card:nth-child(2) { top: 120px; right: 10px; width: 220px; }
            .visual-card:nth-child(3) { bottom: 30px; left: 30px; width: 240px; }
            .card-content { min-width: 140px; }
            .card-title { font-size: 13px; white-space: normal; line-height: 1.3; }
            .card-desc { font-size: 11px; line-height: 1.3; }
            .approach-stats { grid-template-columns: 1fr; gap: 20px; }
            .hero h1 { font-size: clamp(28px, 8vw, 48px); }
            .hero-subline { font-size: clamp(16px, 4vw, 20px); }
        }

        @media (min-width: 769px) {
            .nav-toggle { display: none; }
            .menu-btn { display: block; }
        }
    </style>
</head>
<body>
    <nav>
        <div class="nav-container">
            <a href="#" class="logo">Middle Z</a>
            <div class="nav-toggle" id="navToggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <button class="menu-btn" id="menuBtn">Menu</button>
        </div>
    </nav>

    <div class="nav-menu" id="navMenu">
        <button class="nav-close" id="navClose">×</button>
        <ul class="nav-links">
            <li><a href="#ai-demo">Design + AI</a></li>
            <li><a href="#services">What We Do</a></li>
            <li><a href="#iterative-chart">Iterative Approach</a></li>
            <li><a href="#approach">Partnership Model</a></li>
            <li><a href="#about">About Us</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
        <div class="nav-info">
            <h4>Ready to Start?</h4>
            <p>We work with select organisations each year. Let's explore if we're the right fit for your challenge.</p>
            <a href="#contact" class="nav-contact">Get in Touch →</a>
        </div>
    </div>

    <section class="hero">
        <div class="hero-container">
            <div class="hero-content">
                <h1>Complex challenges.<br>Human-centred solutions.</h1>
                <p class="hero-subline">We partner with select organisations to design strategies, shape technologies, and build solutions that put people at the centre — and performance at the core.</p>
                <p class="hero-description">Innovation rooted in people, scaled by technology.</p>
                <a href="#contact" class="cta-primary">Start a Conversation <span>→</span></a>
            </div>
            <div class="hero-visual">
                <div class="visual-container">
                    <div class="visual-card">
                        <div class="card-icon">⚡</div>
                        <div class="card-content">
                            <div class="card-title">Strategy</div>
                            <div class="card-desc">Human-centered approaches</div>
                        </div>
                    </div>
                    <div class="visual-card">
                        <div class="card-icon">🔧</div>
                        <div class="card-content">
                            <div class="card-title">Technology</div>
                            <div class="card-desc">Purpose-built solutions</div>
                        </div>
                    </div>
                    <div class="visual-card">
                        <div class="card-icon">📈</div>
                        <div class="card-content">
                            <div class="card-title">Performance</div>
                            <div class="card-desc">Measurable outcomes</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- AI vs AI+HCD Comparison Demo -->
    <section class="ai-demo-section" id="ai-demo">
        <div class="demo-container">
            <div class="demo-hero">
                <h2>Same AI. Different Human.</h2>
                <p>See how Human-Centered Design capability transforms AI from generic to genius</p>
                <div class="demo-badge">INTERACTIVE DEMO</div>
            </div>

            <div class="challenge-selector" id="challengeSelector">
                <h3>Choose a business challenge:</h3>
                <div class="challenge-options">
                    <button class="challenge-btn" data-challenge="0">
                        <span class="challenge-icon">📊</span>
                        <span class="challenge-text">Dashboard feature isn't being used</span>
                    </button>
                    <button class="challenge-btn" data-challenge="1">
                        <span class="challenge-icon">👥</span>
                        <span class="challenge-text">Employee engagement scores declining</span>
                    </button>
                    <button class="challenge-btn" data-challenge="2">
                        <span class="challenge-icon">📈</span>
                        <span class="challenge-text">Marketing campaigns not converting</span>
                    </button>
                </div>
            </div>

            <div class="loading-section" id="loadingSection" style="display: none;">
                <h3>Generating responses...</h3>
                <div class="loading-bars">
                    <div class="loading-bar raw-loading">
                        <div class="loading-label">Standard AI</div>
                        <div class="progress-bar"><div class="progress-fill"></div></div>
                    </div>
                    <div class="loading-bar hcd-loading">
                        <div class="loading-label">AI Enabled Human Centred Design</div>
                        <div class="progress-bar"><div class="progress-fill"></div></div>
                    </div>
                </div>
            </div>

            <div class="comparison-container" id="comparisonContainer" style="display: none;">
                <div class="response-panel raw-ai">
                    <div class="panel-header">
                        <h4>Standard AI Response</h4>
                        <div class="panel-tag">Generic • Technical</div>
                    </div>
                    <div class="response-content" id="rawResponse"></div>
                </div>

                <div class="response-panel hcd-ai">
                    <div class="panel-header">
                        <h4>AI Enabled Human Centred Design</h4>
                        <div class="panel-tag">Empathetic • Strategic</div>
                    </div>
                    <div class="response-content" id="hcdResponse"></div>
                </div>
            </div>

            <div class="demo-cta" id="demoCTA" style="display: none;">
                <h3>Ready to transform your AI approach?</h3>
                <p>See how Middle Z combines human insight with artificial intelligence</p>
                <div class="cta-buttons">
                    <a href="#contact" class="cta-button">Start a Conversation</a>
                    <button class="reset-button" onclick="resetDemo()">Try Another Example</button>
                </div>
            </div>
        </div>
    </section>

    <section class="section" id="services">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">What We Do</h2>
                <p class="section-subtitle">Middle Z works at the intersection of strategy, technology, and human-centred design. We help leaders and teams navigate complexity with clarity.</p>
            </div>
            <div class="services-grid">
                <div class="service-card">
                    <h3>Strategy</h3>
                    <p>Ideating and problem solving strategies to plan, clarify and counsel for business and brand growth. Discovering digital opportunities and insights, that will provide better business solutions.</p>
                </div>
                <div class="service-card">
                    <h3>Technology</h3>
                    <p>Developing digital environments for scalability, accessibility and autonomy. Frameworks designed to simplify management of data, speed and connection of information.</p>
                </div>
                <div class="service-card">
                    <h3>Design</h3>
                    <p>Using human-centred design methodology to solve customer complexities. Design innovative and customised interactions to delight users with memorable experiences.</p>
                </div>
                <div class="service-card">
                    <h3>Performance</h3>
                    <p>Improving exposure, conversion and revenue for long-term growth. Elevating results through constant optimisation and omnichannel marketing.</p>
                </div>
                <div class="service-card">
                    <h3>Embed Capability</h3>
                    <p>Develop high-performance cultures and teams that thrive in complexity. Balance innovation with execution and individual growth with collective success.</p>
                </div>
                <div class="service-card">
                    <h3>Partnership</h3>
                    <p>Co-create pathways that fit your unique context, challenges, and aspirations. No off-the-shelf answers — every solution is crafted specifically for you.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Iterative Prototyping vs BigBuild Section -->
    <section class="section iterative-chart" id="iterative-chart">
        <div class="container">
            <div class="chart-header">
                <h2 class="section-title">Iterative Prototyping vs Big Build</h2>
                <p class="section-subtitle">See how rapid iterations lead to better outcomes</p>
            </div>

            <div class="controls">
                <button class="control-btn active" data-view="time-cost">Time vs Cost</button>
                <button class="control-btn" data-view="efficacy">Efficacy Over Time</button>
                <button class="control-btn" data-view="risk">Risk Profile</button>
                <button class="control-btn" data-view="value">Value Delivered</button>
            </div>

            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color iterative"></div>
                    <span>Iterative Approach (Our Approach)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color bigbuild"></div>
                    <span>Traditional Big Build</span>
                </div>
            </div>

            <div class="chart-wrapper">
                <svg id="mainChart" viewBox="0 0 1000 500">
                    <!-- Grid -->
                    <defs>
                        <pattern id="grid" width="50" height="50" patternUnits="userSpaceOnUse">
                            <path d="M 50 0 L 0 0 0 50" fill="none" stroke="rgba(255,255,255,0.05)" stroke-width="1"/>
                        </pattern>
                        <linearGradient id="iterativeGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#7c3aed;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#f97316;stop-opacity:1" />
                        </linearGradient>
                        <linearGradient id="iterativeStroke" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#7c3aed;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#f97316;stop-opacity:1" />
                        </linearGradient>
                        <radialGradient id="iterativeFill" cx="50%" cy="50%" r="50%">
                            <stop offset="0%" style="stop-color:#f97316;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#7c3aed;stop-opacity:1" />
                        </radialGradient>
                    </defs>
                    <rect width="1000" height="500" fill="url(#grid)" />

                    <!-- Axes -->
                    <line x1="50" y1="450" x2="950" y2="450" class="axis" />
                    <line x1="50" y1="50" x2="50" y2="450" class="axis" />

                    <!-- X-axis labels -->
                    <text x="500" y="490" class="axis-label" text-anchor="middle">TIME (MONTHS)</text>

                    <!-- Y-axis labels -->
                    <text x="25" y="250" class="axis-label y-axis-label" text-anchor="middle" transform="rotate(-90 25 250)">COST ($K)</text>

                    <!-- Paths will be drawn here by JavaScript -->
                    <g id="paths"></g>

                    <!-- Milestones will be drawn here by JavaScript -->
                    <g id="milestones"></g>
                </svg>
            </div>

            <div class="tooltip">
                <div class="tooltip-title"></div>
                <div class="tooltip-content"></div>
            </div>

            <div class="stats-section">
                <div class="stats-container">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value stat-iterative">4 weeks</div>
                            <div class="stat-label">First Prototype</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value stat-bigbuild">6 months</div>
                            <div class="stat-label">Big Build MVP</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value stat-iterative">$50K</div>
                            <div class="stat-label">Total Investment</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value stat-bigbuild">$500K</div>
                            <div class="stat-label">Total Cost</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value stat-iterative">85%</div>
                            <div class="stat-label">User Satisfaction</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value stat-bigbuild">45%</div>
                            <div class="stat-label">First Version Success</div>
                        </div>
                    </div>

                    <div class="insight-box">
                        <div class="insight-title">💡 Key Insight</div>
                        <div class="insight-text">
                            While iterative development may reach full production slightly later, it delivers validated, user-tested features that achieve 85% efficacy from day one. Traditional big builds often launch at 45% efficacy and require expensive post-launch fixes.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="section approach" id="approach">
        <div class="container">
            <div class="approach-content">
                <div class="approach-text">
                    <div class="exclusive-badge">Selective Partnership</div>
                    <h2>Partnership Model</h2>
                    <p>We work with a select group of partners each year, ensuring focus, clarity, and meaningful outcomes. Our approach blends deep strategy, human-centred thinking, and cutting-edge technology.</p>
                    <p>We partner with organisations tackling complex problems where technology, people, and performance must align. Our clients are leaders who believe technology should be a <strong>force for good</strong>.</p>
                    <div class="approach-stats">
                        <div class="stat-item">
                            <span class="stat-number">12</span>
                            <span class="stat-label">Partners per year</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">3x</span>
                            <span class="stat-label">Average ROI</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">95%</span>
                            <span class="stat-label">Client retention</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">18mo</span>
                            <span class="stat-label">Avg partnership</span>
                        </div>
                    </div>
                </div>
                <div class="approach-visual">
                    <div class="visual-container">
                        <div class="visual-card">
                            <div class="card-icon">🧠</div>
                            <div class="card-content">
                                <div class="card-title">Strategic Thinking</div>
                                <div class="card-desc">Deep analysis meets practical action</div>
                            </div>
                        </div>
                        <div class="visual-card">
                            <div class="card-icon">⚡</div>
                            <div class="card-content">
                                <div class="card-title">Rapid Execution</div>
                                <div class="card-desc">From concept to launch</div>
                            </div>
                        </div>
                        <div class="visual-card">
                            <div class="card-icon">🔄</div>
                            <div class="card-content">
                                <div class="card-title">Continuous Evolution</div>
                                <div class="card-desc">Adapt, learn, improve</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="section" id="about">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">About Middle Z</h2>
                <p class="section-subtitle">We're a strategy and design partner built for complexity. We believe the most powerful solutions are human-centred, technology-enabled, and delivered with performance in mind.</p>
            </div>
            <div class="about-content">
                <div class="about-text">
                    <div class="about-card">
                        <div class="about-card-header">
                            <div class="about-icon">🎯</div>
                            <h3>Our Mission</h3>
                        </div>
                        <p>To bridge the gap between human needs and technological possibilities. We exist to help organizations navigate complexity with clarity, ensuring that innovation serves people first and performance follows naturally.</p>
                    </div>
                    <div class="about-card">
                        <div class="about-card-header">
                            <div class="about-icon">⚡</div>
                            <h3>Our Approach</h3>
                        </div>
                        <p>We don't believe in one-size-fits-all solutions. Every challenge is unique, every organization has its own culture, and every solution must be crafted to fit. We co-create pathways that honor your context while driving meaningful change.</p>
                    </div>
                    <div class="about-card">
                        <div class="about-card-header">
                            <div class="about-icon">🌟</div>
                            <h3>Our Promise</h3>
                        </div>
                        <p>When you work with Middle Z, you're not just getting consultants or developers. You're getting strategic partners who are invested in your success and committed to creating solutions that last.</p>
                    </div>
                </div>
                <div class="about-values">
                    <h3>Our Values</h3>
                    <div class="values-grid">
                        <div class="value-item">
                            <div class="value-icon">👥</div>
                            <h4>Human-Centred</h4>
                            <p>Every solution starts and ends with people</p>
                        </div>
                        <div class="value-item">
                            <div class="value-icon">🔧</div>
                            <h4>Technology-Enabled</h4>
                            <p>Purpose-built tools that solve real problems</p>
                        </div>
                        <div class="value-item">
                            <div class="value-icon">📈</div>
                            <h4>Performance-Driven</h4>
                            <p>Measurable outcomes that matter</p>
                        </div>
                        <div class="value-item">
                            <div class="value-icon">🤝</div>
                            <h4>Partnership-Based</h4>
                            <p>Collaborative relationships built to last</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials section temporarily hidden
    <section class="section testimonials" id="testimonials">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title" style="color: white;">What Partners Say</h2>
                <p class="section-subtitle" style="color: rgba(255, 255, 255, 0.8);">Trusted by leaders who value human-centred innovation and measurable results.</p>
            </div>
            <div class="testimonials-grid">
                <div class="testimonial-card">
                    <div class="testimonial-popup">Transformative</div>
                    <div class="testimonial-quote">"Middle Z transformed how we think about technology. Their human-centred approach didn't just solve our immediate challenge — it fundamentally changed our culture."</div>
                    <div class="testimonial-author">
                        <div class="author-avatar">SM</div>
                        <div class="author-info">
                            <h4>Sarah Mitchell</h4>
                            <p>Chief Innovation Officer, TechCorp</p>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <div class="testimonial-popup">Game-Changing</div>
                    <div class="testimonial-quote">"Working with Middle Z was like having a strategic partner who truly understood both our business needs and our people. The results speak for themselves."</div>
                    <div class="testimonial-author">
                        <div class="author-avatar">MJ</div>
                        <div class="author-info">
                            <h4>Marcus Johnson</h4>
                            <p>CEO, GrowthLabs</p>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <div class="testimonial-popup">Exceptional</div>
                    <div class="testimonial-quote">"They don't just deliver solutions — they deliver solutions that last. The strategic foundation they built continues to drive our success two years later."</div>
                    <div class="testimonial-author">
                        <div class="author-avatar">AL</div>
                        <div class="author-info">
                            <h4>Anna López</h4>
                            <p>VP Strategy, HealthFirst</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    -->

    <section class="section contact" id="contact">
        <div class="container">
            <div class="contact-grid">
                <div class="contact-info">
                    <h2>Have a challenge worth solving?</h2>
                    <p class="contact-subtitle">We'd love to hear about it. Let's explore how we can work together to create solutions that put people at the centre and performance at the core.</p>
                    <div class="contact-details">
                        <div class="contact-item">
                            <div class="contact-icon">📧</div>
                            <div>
                                <h4 style="font-size: 16px; font-weight: 600; margin-bottom: 4px;">Email Us</h4>
                                <p style="color: #6b7280;">hello@middlez.com</p>
                            </div>
                        </div>
                        <div class="contact-item">
                            <div class="contact-icon">🌍</div>
                            <div>
                                <h4 style="font-size: 16px; font-weight: 600; margin-bottom: 4px;">Global Reach</h4>
                                <p style="color: #6b7280;">Working with leaders worldwide</p>
                            </div>
                        </div>
                    </div>
                </div>
                <form class="contact-form" id="contactForm" novalidate>
                    <div class="form-group">
                        <label for="name">Your Name *</label>
                        <input type="text" id="name" name="name" required aria-describedby="name-error">
                        <div class="error-message" id="name-error"></div>
                    </div>
                    <div class="form-group">
                        <label for="email">Email Address *</label>
                        <input type="email" id="email" name="email" required aria-describedby="email-error">
                        <div class="error-message" id="email-error"></div>
                    </div>
                    <div class="form-group">
                        <label for="organization">Organization</label>
                        <input type="text" id="organization" name="organization" aria-describedby="organization-error">
                        <div class="error-message" id="organization-error"></div>
                    </div>
                    <div class="form-group">
                        <label for="challenge">Tell us about your challenge *</label>
                        <textarea id="challenge" name="challenge" placeholder="What complex problem are you trying to solve?" required aria-describedby="challenge-error"></textarea>
                        <div class="error-message" id="challenge-error"></div>
                    </div>
                    <button type="submit" class="submit-btn" aria-describedby="submit-status">Send Message</button>
                    <div class="form-status" id="submit-status" aria-live="polite"></div>
                </form>
            </div>
        </div>
    </section>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h4>Middle Z</h4>
                <p style="color: #9ca3af; font-size: 15px; line-height: 1.6;">Innovation rooted in people, scaled by technology. We partner with select organisations to solve complex challenges.</p>
            </div>
            <div class="footer-section">
                <h4>Services</h4>
                <ul>
                    <li><a href="#services">Strategy & Planning</a></li>
                    <li><a href="#services">Technology Solutions</a></li>
                    <li><a href="#services">Human-Centred Design</a></li>
                    <li><a href="#services">Culture Development</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Company</h4>
                <ul>
                    <li><a href="#approach">Our Approach</a></li>
                    <li><a href="#testimonials">Client Stories</a></li>
                    <li><a href="#contact">Work With Us</a></li>
                    <li><a href="#contact">Careers</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Connect</h4>
                <ul>
                    <li><a href="#contact">hello@middlez.com</a></li>
                    <li><a href="#">LinkedIn</a></li>
                    <li><a href="#">Insights Blog</a></li>
                    <li><a href="#contact">Work With Us</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>© 2025 Middle Z. All rights reserved. • Privacy Policy • Terms of Service</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Desktop-only: Close mobile menu when clicking outside (if it's accidentally opened on desktop)
            document.addEventListener('click', function(e) {
                // Only run on desktop screens
                if (window.innerWidth > 768) {
                    const navMenu = document.getElementById('navMenu');
                    const navToggle = document.querySelector('.nav-toggle');
                    const menuBtn = document.getElementById('menuBtn');

                    if (navMenu && navMenu.classList.contains('active') &&
                        !navMenu.contains(e.target) &&
                        (!navToggle || !navToggle.contains(e.target)) &&
                        (!menuBtn || !menuBtn.contains(e.target))) {
                        navMenu.classList.remove('active');
                        if (navToggle) navToggle.classList.remove('active');
                        document.body.style.overflow = 'auto';
                    }
                }
            });

            function toggleMenu() {
                const navMenu = document.getElementById('navMenu');
                const navToggle = document.querySelector('.nav-toggle');
                const isActive = navMenu.classList.contains('active');

                if (isActive) {
                    navMenu.classList.remove('active');
                    navToggle.classList.remove('active');
                    document.body.style.overflow = 'auto';
                } else {
                    navMenu.classList.add('active');
                    navToggle.classList.add('active');
                    // Only prevent scrolling on mobile, allow scrolling on desktop
                    if (window.innerWidth <= 768) {
                        document.body.style.overflow = 'hidden';
                    }
                }
            }

            const navToggle = document.getElementById('navToggle');
            const menuBtn = document.getElementById('menuBtn');
            const navClose = document.getElementById('navClose');
            
            if (navToggle) navToggle.addEventListener('click', toggleMenu);
            if (menuBtn) menuBtn.addEventListener('click', toggleMenu);
            if (navClose) navClose.addEventListener('click', toggleMenu);

            document.querySelectorAll('.nav-links a').forEach(link => {
                link.addEventListener('click', () => {
                    const navMenu = document.getElementById('navMenu');
                    const navToggle = document.querySelector('.nav-toggle');
                    navMenu.classList.remove('active');
                    navToggle.classList.remove('active');
                    document.body.style.overflow = 'auto';
                });
            });
        });

        document.querySelectorAll('a[href^="#"]:not([href="#"])').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const href = this.getAttribute('href');
                if (href && href !== '#') {
                    const target = document.querySelector(href);
                    if (target) {
                        const navHeight = 80; // Fixed nav height
                        const offset = 60; // Additional offset to show content above
                        const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - navHeight - offset;

                        window.scrollTo({
                            top: targetPosition,
                            behavior: 'smooth'
                        });
                    }
                }
            });
        });

        const observerOptions = {
            threshold: 0.15,
            rootMargin: '0px 0px -80px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.section-header, .service-card, .testimonial-card, .approach-text, .approach-visual, .contact-info, .contact-form, .about-card, .about-values').forEach(el => {
            observer.observe(el);
        });

        const serviceCards = document.querySelectorAll('.service-card');
        serviceCards.forEach((card, index) => {
            card.style.transitionDelay = `${index * 0.15}s`;
        });

        const aboutCards = document.querySelectorAll('.about-card');
        aboutCards.forEach((card, index) => {
            card.style.transitionDelay = `${index * 0.2}s`;
        });

        const testimonialCards = document.querySelectorAll('.testimonial-card');
        testimonialCards.forEach((card, index) => {
            card.style.transitionDelay = `${index * 0.2}s`;
        });

        window.addEventListener('scroll', () => {
            const nav = document.querySelector('nav');
            if (window.scrollY > 50) {
                nav.style.background = 'rgba(255, 255, 255, 0.98)';
                nav.style.boxShadow = '0 8px 32px rgba(0, 0, 0, 0.08)';
            } else {
                nav.style.background = 'rgba(255, 255, 255, 0.95)';
                nav.style.boxShadow = 'none';
            }
        });

        const contactForm = document.getElementById('contactForm');
        if (contactForm) {
            contactForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const submitBtn = this.querySelector('.submit-btn');
            const statusDiv = document.getElementById('submit-status');
            const originalText = submitBtn.textContent;
            
            function clearFormErrors() {
                document.querySelectorAll('.error-message').forEach(el => el.textContent = '');
                document.querySelectorAll('.form-group input, .form-group textarea').forEach(el => {
                    el.classList.remove('error');
                });
            }

            function validateForm(data) {
                const errors = [];
                
                if (!data.name || data.name.length < 2) {
                    errors.push({ field: 'name', message: 'Name must be at least 2 characters' });
                }
                
                if (!data.email) {
                    errors.push({ field: 'email', message: 'Email is required' });
                } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(data.email)) {
                    errors.push({ field: 'email', message: 'Please enter a valid email address' });
                }
                
                if (!data.challenge || data.challenge.length < 10) {
                    errors.push({ field: 'challenge', message: 'Please describe your challenge (at least 10 characters)' });
                }
                
                return errors;
            }

            function displayFormErrors(errors) {
                errors.forEach(error => {
                    const field = document.getElementById(error.field);
                    const errorDiv = document.getElementById(error.field + '-error');
                    
                    if (field && errorDiv) {
                        field.classList.add('error');
                        errorDiv.textContent = error.message;
                    }
                });
            }

            clearFormErrors();
            
            const formData = {
                name: this.querySelector('#name').value.trim(),
                email: this.querySelector('#email').value.trim(),
                organization: this.querySelector('#organization').value.trim(),
                challenge: this.querySelector('#challenge').value.trim()
            };
            
            const errors = validateForm(formData);
            if (errors.length > 0) {
                displayFormErrors(errors);
                return;
            }
            
            submitBtn.innerHTML = '<span style="display: inline-block; animation: spin 1s linear infinite;">⟳</span> Sending...';
            submitBtn.style.background = 'linear-gradient(135deg, #6366f1, #8b5cf6)';
            submitBtn.disabled = true;
            statusDiv.style.display = 'none';
            
            try {
                const response = await fetch('contact-form.php', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(formData)
                });
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const result = await response.json();
                
                if (result.success) {
                    submitBtn.innerHTML = '✓ Message Sent!';
                    submitBtn.style.background = 'linear-gradient(135deg, #10b981, #059669)';
                    
                    statusDiv.textContent = result.message || 'Thank you! We\'ll get back to you soon.';
                    statusDiv.className = 'form-status success';
                    statusDiv.style.display = 'block';
                    
                    this.style.transform = 'scale(1.02)';
                    this.style.boxShadow = '0 25px 80px rgba(16, 185, 129, 0.2)';
                    
                    setTimeout(() => {
                        submitBtn.textContent = originalText;
                        submitBtn.style.background = 'linear-gradient(135deg, #4f46e5, #7c3aed)';
                        submitBtn.disabled = false;
                        this.style.transform = 'scale(1)';
                        this.style.boxShadow = '0 20px 60px rgba(0, 0, 0, 0.08)';
                        this.reset();
                        statusDiv.style.display = 'none';
                    }, 4000);
                } else {
                    throw new Error(result.error || 'Server error');
                }
            } catch (error) {
                console.error('Form submission error:', error);
                
                submitBtn.innerHTML = '✗ Error - Try Again';
                submitBtn.style.background = 'linear-gradient(135deg, #ef4444, #dc2626)';
                
                statusDiv.textContent = 'Sorry, there was an error sending your message. Please try again or email us directly.';
                statusDiv.className = 'form-status error';
                statusDiv.style.display = 'block';
                
                setTimeout(() => {
                    submitBtn.textContent = originalText;
                    submitBtn.style.background = 'linear-gradient(135deg, #4f46e5, #7c3aed)';
                    submitBtn.disabled = false;
                }, 3000);
            }
        });
        }

        const style = document.createElement('style');
        style.textContent = `@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }`;
        document.head.appendChild(style);

        // AI vs AI+HCD Demo Functionality
        const demoResponses = {
            0: { // Dashboard feature
                raw: `Dashboard Feature Adoption Strategy:

• Improve onboarding flow with tutorials
• Add tooltips and help guides
• Launch email campaigns
• Track usage metrics
• A/B test layouts
• Provide support training
• Create documentation
• Collect user feedback

**Typical Result:** 6-month implementation cycle testing multiple solutions simultaneously. Initial 15% adoption improvement, but plateau after 3 months as core issues remain unaddressed. Requires constant iteration without clear direction.`,

                hcd: `🔍 **Double Diamond Discovery: Define the Real Problem**

Most assume low adoption = bad UX. We dig deeper using your existing data.

**Data Sources We'd Analyze:**
→ Support ticket transcripts (friction points)
→ User interaction tracking (exact actions, flow patterns, drop-off points)
→ Customer success call transcripts (their actual language)
→ Market-leading dashboard analysis (best-in-world inspiration, trend identification)

**Rapid Research Phase:**
→ Semi-structured interviews with 8-12 current users (initial validation)
→ AI theme extraction from transcripts
→ Co-creation iteration: Does this validate our thesis? Do we need quantitative follow-up?
→ Impact/urgency matrix to prioritize pain points

**Co-Creation Workshops:**
→ Highly curated cross-functional team sessions
→ Low-fidelity prototyping with actual users
→ Test and validate before production build
→ Deliver working design as part of process

**The Real Insight:** Your data + co-creation process tells us the real problem. We prototype solutions to prove they work before you invest in full development.

**Result: Evidence-based solutions with validated designs ready for production**`
            },
            1: { // Employee engagement
                raw: `Employee Engagement Improvement Plan:

• Conduct engagement surveys
• Implement recognition programs
• Improve communication channels
• Offer professional development
• Review compensation packages
• Enhance work-life balance
• Team building activities
• Exit interview analysis

**Typical Result:** $50K+ spent on initiatives that show temporary 8% engagement lift, then decline. High effort, low impact because surface-level symptoms addressed rather than root causes. Team fatigue from constant "new programs."`,

                hcd: `🔍 **Double Diamond: Understand the Friction**

Engagement surveys tell you symptoms, not causes. We analyze existing data streams to understand what's really happening.

**Underutilized Data We'd Mine:**
→ Engagement survey trends (existing patterns + frequency optimization)
→ Meeting participation patterns (AI transcript analysis for dominant voices)
→ Internal tool usage data (workflow friction identification)
→ Exit interview transcripts (AI theme extraction)

**Rapid Primary Research:**
→ Semi-structured interviews with high/low performers
→ AI processing to identify misalignment patterns
→ Implement new data collection if gaps exist (right frequency + depth)

**Co-Creation Solutions:**
→ Full workforce workshops (2 days, highly curated)
→ Impact/urgency matrix prioritization
→ Low-fidelity prototyping of cultural interventions
→ Test solutions before full implementation

**The Middle Z Difference:** We don't guess what motivates your people—your internal data tells us. Then we co-create and prototype solutions with the actual humans affected.

**Result: Validated engagement strategies with proven effectiveness**`
            },
            2: { // Marketing conversion
                raw: `Marketing Campaign Optimization:

• Analyze conversion funnel data
• A/B test different messaging
• Improve landing page design
• Optimize ad targeting
• Refine email sequences
• Test different CTAs
• Analyze competitor strategies
• Increase budget allocation

**Typical Result:** Endless testing cycles with marginal 2-5% improvements. Budget increases mask fundamental positioning problems. 3+ months of optimization without breakthrough results because messaging misses emotional drivers.`,

                hcd: `🔍 **Double Diamond: Define the True Conversion Barrier**

Low conversion isn't a creative problem—it's a positioning problem. We analyze what customers actually say vs. what you think they want.

**Proprietary Data Analysis:**
→ Customer call transcripts (their actual language)
→ Marketing funnel metrics (CPM, CPC, CPA patterns and drop-off analysis)
→ Landing page behavior data (scroll depth, click patterns, checkout abandonment)
→ Competitor messaging analysis (AI-processed from ads/content)
→ Implement tracking systems if monitoring gaps exist

**Rapid Market Research:**
→ Semi-structured interviews with prospects + customers
→ AI theme extraction: motivations vs. barriers
→ Competitive differentiation mapping

**Co-Creation Strategy:**
→ Cross-functional workshops (sales, marketing, product)
→ Low-fidelity campaign prototyping with real prospects
→ Test and validate messaging before full rollout

**The Insight:** Your existing customer data + funnel analytics reveal exactly where prospects drop off and why. We prototype solutions to prove conversion improvements before you invest in full campaigns.

**Result: Evidence-based campaigns with validated messaging and optimized conversion paths**`
            }
        };

        function initializeAIDemo() {
            const challengeButtons = document.querySelectorAll('.challenge-btn');
            const challengeSelector = document.getElementById('challengeSelector');
            const loadingSection = document.getElementById('loadingSection');
            const comparisonContainer = document.getElementById('comparisonContainer');
            const demoCTA = document.getElementById('demoCTA');
            const demoSection = document.querySelector('.ai-demo-section');

            challengeButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const challengeIndex = parseInt(button.dataset.challenge);
                    startDemo(challengeIndex);
                });
            });

            function startDemo(challengeIndex) {
                // Phase 1: Expand section and show loading
                demoSection.classList.add('expanded');
                challengeSelector.style.display = 'none';
                loadingSection.style.display = 'block';

                // Animate loading section in
                setTimeout(() => {
                    loadingSection.classList.add('show');
                }, 100);

                // Start progress bars
                setTimeout(() => {
                    const progressBars = document.querySelectorAll('.progress-fill');
                    progressBars.forEach(bar => bar.style.width = '100%');
                }, 300);

                // Phase 2: Show comparison and expand more
                setTimeout(() => {
                    loadingSection.classList.remove('show');
                    setTimeout(() => {
                        loadingSection.style.display = 'none';
                        comparisonContainer.style.display = 'grid';

                        // Animate comparison in
                        setTimeout(() => {
                            comparisonContainer.classList.add('show');
                        }, 100);
                    }, 600);

                    typeText('rawResponse', demoResponses[challengeIndex].raw, 15);
                    setTimeout(() => {
                        typeText('hcdResponse', demoResponses[challengeIndex].hcd, 15);
                    }, 500);

                    // Phase 3: Show CTA without further expansion
                    setTimeout(() => {
                        demoCTA.style.display = 'block';

                        // Animate CTA in
                        setTimeout(() => {
                            demoCTA.classList.add('show');
                        }, 200);
                    }, 8000);

                }, 3500);
            }


            function typeText(elementId, text, speed) {
                const element = document.getElementById(elementId);
                element.innerHTML = '';
                let index = 0;

                function type() {
                    if (index < text.length) {
                        element.innerHTML += text.charAt(index);
                        index++;
                        setTimeout(type, speed);
                    }
                }
                type();
            }
        }

        // Global reset function for the demo
        function resetDemo() {
            const resetButton = event.target;
            const originalText = resetButton.textContent;

            // Add loading state
            resetButton.textContent = 'Resetting...';
            resetButton.disabled = true;

            const demoSection = document.getElementById('ai-demo');
            const challengeSelector = document.getElementById('challengeSelector');
            const loadingSection = document.getElementById('loadingSection');
            const comparisonContainer = document.getElementById('comparisonContainer');
            const demoCTA = document.getElementById('demoCTA');
            const rawResponse = document.getElementById('rawResponse');
            const hcdResponse = document.getElementById('hcdResponse');

            // Reset all sections to initial state
            demoSection.classList.remove('expanded');
            challengeSelector.style.display = 'block';
            loadingSection.style.display = 'none';
            comparisonContainer.style.display = 'none';
            comparisonContainer.classList.remove('show');
            demoCTA.style.display = 'none';
            demoCTA.classList.remove('show');

            // Clear response content
            rawResponse.innerHTML = '';
            hcdResponse.innerHTML = '';

            // Reset loading bars
            const progressBars = document.querySelectorAll('.progress-fill');
            progressBars.forEach(bar => bar.style.width = '0%');

            // Smooth scroll back to demo start and restore button
            demoSection.scrollIntoView({ behavior: 'smooth', block: 'start' });

            // Restore button after a short delay
            setTimeout(() => {
                resetButton.textContent = originalText;
                resetButton.disabled = false;
            }, 1000);
        }

        // Initialize the AI demo when the page loads
        document.addEventListener('DOMContentLoaded', initializeAIDemo);

        // Chart functionality is now working

        // Chart data for different views
        const chartData = {
            'time-cost': {
                iterative: [
                    { x: 0, y: 0, label: 'Start', desc: 'Project kickoff' },
                    { x: 1, y: 15, label: 'Sprint 1', desc: 'Discovery & Research' },
                    { x: 2, y: 35, label: 'Prototype', desc: 'Working prototype ready' },
                    { x: 3, y: 50, label: 'Test & Iterate', desc: 'User feedback integrated' },
                    { x: 4, y: 80, label: 'MVP Launch', desc: 'Production-ready with validated features' },
                    { x: 6, y: 120, label: 'Scale', desc: 'Confident scaling based on data' }
                ],
                bigbuild: [
                    { x: 0, y: 0, label: 'Start', desc: 'Requirements gathering' },
                    { x: 2, y: 100, label: 'Design Phase', desc: 'Extensive planning' },
                    { x: 4, y: 300, label: 'Development', desc: 'Building all features' },
                    { x: 6, y: 500, label: 'Launch', desc: 'Big bang release' },
                    { x: 8, y: 650, label: 'Fixes', desc: 'Post-launch corrections' }
                ]
            },
            'efficacy': {
                iterative: [
                    { x: 0, y: 0, label: 'Start', desc: '0% efficacy' },
                    { x: 1, y: 40, label: 'First Test', desc: '40% efficacy with early users' },
                    { x: 2, y: 65, label: 'Iterate', desc: '65% after feedback' },
                    { x: 3, y: 75, label: 'Refine', desc: '75% efficacy' },
                    { x: 4, y: 85, label: 'Launch', desc: '85% efficacy at launch' },
                    { x: 6, y: 95, label: 'Optimized', desc: '95% efficacy achieved' }
                ],
                bigbuild: [
                    { x: 0, y: 0, label: 'Start', desc: 'No user validation' },
                    { x: 3, y: 0, label: 'Building', desc: 'Still no user feedback' },
                    { x: 6, y: 45, label: 'Launch', desc: '45% efficacy - many assumptions wrong' },
                    { x: 8, y: 60, label: 'Patches', desc: '60% after expensive fixes' },
                    { x: 10, y: 70, label: 'Rebuild', desc: '70% requires major overhaul' }
                ]
            },
            'risk': {
                iterative: [
                    { x: 0, y: 100, label: 'Start', desc: 'High risk, low investment' },
                    { x: 1, y: 70, label: 'Validated', desc: 'Risk decreasing with data' },
                    { x: 2, y: 50, label: 'Proven', desc: 'Concept proven with users' },
                    { x: 3, y: 30, label: 'Refined', desc: 'Major risks addressed' },
                    { x: 4, y: 20, label: 'Launch', desc: 'Low risk, high confidence' },
                    { x: 6, y: 10, label: 'Stable', desc: 'Minimal risk' }
                ],
                bigbuild: [
                    { x: 0, y: 100, label: 'Start', desc: 'High risk' },
                    { x: 2, y: 95, label: 'Committed', desc: 'Risk increasing with investment' },
                    { x: 4, y: 90, label: 'Locked In', desc: 'Too late to pivot' },
                    { x: 6, y: 85, label: 'Launch', desc: 'Maximum risk at launch' },
                    { x: 8, y: 70, label: 'Reality', desc: 'Risk partially mitigated' }
                ]
            },
            'value': {
                iterative: [
                    { x: 0, y: 0, label: 'Start', desc: 'No value yet' },
                    { x: 1, y: 30, label: 'Early Value', desc: 'Learning and validation' },
                    { x: 2, y: 60, label: 'Demo Value', desc: 'Investor interest' },
                    { x: 3, y: 80, label: 'User Value', desc: 'Beta users engaged' },
                    { x: 4, y: 100, label: 'Market Value', desc: 'Revenue generating' },
                    { x: 6, y: 150, label: 'Growth', desc: 'Exponential value growth' }
                ],
                bigbuild: [
                    { x: 0, y: 0, label: 'Start', desc: 'No value' },
                    { x: 2, y: 5, label: 'Plans', desc: 'Theoretical value only' },
                    { x: 4, y: 10, label: 'Preview', desc: 'Marketing value' },
                    { x: 6, y: 50, label: 'Launch', desc: 'Initial value delivered' },
                    { x: 8, y: 70, label: 'Fixed', desc: 'Value improving slowly' }
                ]
            }
        };

        let currentView = 'time-cost';
        let svg, pathsGroup, milestonesGroup, tooltip;

        // Animation approach: 'sync' for synchronized appearance, 'fly' for fly from line start
        const ANIMATION_APPROACH = 'sync';

        // Scale functions (maxX will be set dynamically per chart view)
        let currentMaxX = 10;
        const scaleX = (value) => 50 + (value / currentMaxX) * 900;
        const scaleY = (value, maxY) => 450 - (value / maxY) * 400;

        // Color interpolation function for gradient positioning
        function interpolateColor(progress) {
            // Purple: #7c3aed (124, 58, 237)
            // Orange: #f97316 (249, 115, 22)
            const purple = { r: 124, g: 58, b: 237 };
            const orange = { r: 249, g: 115, b: 22 };

            const r = Math.round(purple.r + (orange.r - purple.r) * progress);
            const g = Math.round(purple.g + (orange.g - purple.g) * progress);
            const b = Math.round(purple.b + (orange.b - purple.b) * progress);

            return `rgb(${r}, ${g}, ${b})`;
        }

        // Draw path
        function drawPath(data, className, maxY, withAnimation = false) {
            const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');

            let d = `M ${scaleX(data[0].x)} ${scaleY(data[0].y, maxY)}`;

            for (let i = 1; i < data.length; i++) {
                const x = scaleX(data[i].x);
                const y = scaleY(data[i].y, maxY);
                const prevX = scaleX(data[i-1].x);
                const prevY = scaleY(data[i-1].y, maxY);
                const cpx = (prevX + x) / 2;

                d += ` Q ${cpx} ${prevY} ${x} ${y}`;
            }

            path.setAttribute('d', d);
            path.setAttribute('class', className);

            // Only add animate-path class if not using scroll trigger
            if (!withAnimation) {
                path.classList.add('animate-path');
            }

            return path;
        }

        // Draw milestones with synchronized timing and labels
        function drawMilestones(data, className, maxY, withAnimation = false) {
            const group = document.createElementNS('http://www.w3.org/2000/svg', 'g');
            const animationDuration = 3000;

            // Get the starting Y position for this line (first data point)
            const lineStartY = scaleY(data[0].y, maxY);

            data.forEach((point, i) => {
                const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                circle.setAttribute('cx', scaleX(point.x));
                circle.setAttribute('cy', scaleY(point.y, maxY));

                // Responsive radius for mobile touch targets
                const isMobile = window.innerWidth <= 768;
                circle.setAttribute('r', isMobile ? '12' : '8');
                circle.setAttribute('class', `milestone ${className}`);

                const timeProgress = point.x / currentMaxX;
                const delay = timeProgress * animationDuration;

                // Apply position-based color for iterative milestones
                if (className === 'milestone-iterative') {
                    const positionColor = interpolateColor(timeProgress);
                    circle.setAttribute('fill', positionColor);
                }

                // Only animate if withAnimation is true, otherwise show immediately
                if (withAnimation) {
                    setTimeout(() => {
                        circle.classList.add('animate-from-bottom');
                    }, delay);
                } else {
                    // Show immediately without animation
                    circle.classList.add('animate-in');
                }

                // Mouse events
                circle.addEventListener('mouseenter', function(e) {
                    e.stopPropagation();
                    showTooltip(e, point, className);
                });

                circle.addEventListener('mouseleave', function(e) {
                    e.stopPropagation();
                    hideTooltip();
                });

                // Touch events for mobile feedback
                circle.addEventListener('touchstart', function(e) {
                    e.stopPropagation();
                    circle.style.transform = 'scale(1.2)';
                    circle.style.transition = 'transform 0.1s ease';
                }, { passive: true });

                circle.addEventListener('touchend', function(e) {
                    e.stopPropagation();
                    setTimeout(() => {
                        circle.style.transform = 'scale(1)';
                    }, 100);

                    // Show tooltip on touch
                    const touch = e.changedTouches[0];
                    const fakeEvent = {
                        clientX: touch.clientX,
                        clientY: touch.clientY
                    };
                    showTooltip(fakeEvent, point, className);

                    // Hide tooltip after 3 seconds on mobile
                    setTimeout(hideTooltip, 3000);
                }, { passive: true });

                circle.addEventListener('touchcancel', function(e) {
                    circle.style.transform = 'scale(1)';
                }, { passive: true });

                group.appendChild(circle);

                const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                text.setAttribute('x', scaleX(point.x));

                // Mobile-responsive positioning with more spacing
                const labelOffset = isMobile ? 20 : 15;
                if (currentView === 'risk' && className === 'milestone-iterative') {
                    text.setAttribute('y', scaleY(point.y, maxY) + (isMobile ? 30 : 25));
                } else {
                    text.setAttribute('y', scaleY(point.y, maxY) - labelOffset);
                }

                text.setAttribute('text-anchor', 'middle');
                if (className === 'milestone-iterative') {
                    const positionColor = interpolateColor(timeProgress);
                    text.setAttribute('fill', positionColor);
                } else {
                    text.setAttribute('fill', '#94a3b8');
                }

                // Responsive font sizing and weight for mobile
                text.setAttribute('font-size', isMobile ? '14' : '12');
                text.setAttribute('font-weight', isMobile ? '700' : '600');
                text.textContent = point.label;

                // Only animate text opacity if withAnimation is true
                if (withAnimation) {
                    text.style.opacity = '0';
                    setTimeout(() => {
                        text.style.opacity = '1';
                        text.style.transition = 'opacity 0.3s ease';
                    }, delay + 200);
                } else {
                    text.style.opacity = '1';
                }

                group.appendChild(text);
            });

            return group;
        }

        // Tooltip functions
        function showTooltip(event, data, className) {
            const x = event.clientX;
            const y = event.clientY;

            let tooltipX = x + 15;
            let tooltipY = y - 15;

            const viewportWidth = window.innerWidth;
            const viewportHeight = window.innerHeight;

            if (tooltipX + 250 > viewportWidth) {
                tooltipX = x - 250 - 15;
            }

            if (tooltipY < 10) {
                tooltipY = y + 25;
            }

            if (tooltipY + 100 > viewportHeight) {
                tooltipY = y - 100 - 15;
            }

            tooltip.style.left = `${tooltipX}px`;
            tooltip.style.top = `${tooltipY}px`;
            tooltip.style.position = 'fixed';

            const tooltipTitle = tooltip.querySelector('.tooltip-title');
            tooltipTitle.textContent = data.label;

            if (className === 'milestone-iterative') {
                tooltipTitle.className = 'tooltip-title iterative';
            } else {
                tooltipTitle.className = 'tooltip-title bigbuild';
            }

            tooltip.querySelector('.tooltip-content').textContent = data.desc;
            tooltip.classList.add('show');
        }

        function hideTooltip() {
            tooltip.classList.remove('show');
        }

        // Update chart
        function updateChart(view, triggerAnimation = false) {
            currentView = view;
            const data = chartData[view];

            pathsGroup.innerHTML = '';
            milestonesGroup.innerHTML = '';

            const yAxisLabel = document.querySelector('.y-axis-label');
            const axisLabels = {
                'time-cost': 'COST ($K)',
                'efficacy': 'EFFICACY (%)',
                'risk': 'RISK LEVEL (%)',
                'value': 'VALUE DELIVERED'
            };

            if (yAxisLabel) {
                yAxisLabel.textContent = axisLabels[view];
            }

            // Calculate dynamic X and Y ranges for full width usage
            const maxX = Math.max(
                ...data.iterative.map(d => d.x),
                ...data.bigbuild.map(d => d.x)
            );
            const maxY = Math.max(
                ...data.iterative.map(d => d.y),
                ...data.bigbuild.map(d => d.y)
            ) * 1.1;

            // Update global maxX for scaling functions
            currentMaxX = maxX;

            // Create and append paths
            const iterativePath = drawPath(data.iterative, 'path-iterative', maxY, triggerAnimation);
            const bigbuildPath = drawPath(data.bigbuild, 'path-bigbuild', maxY, triggerAnimation);

            pathsGroup.appendChild(iterativePath);
            pathsGroup.appendChild(bigbuildPath);

            // Set up path animations based on trigger
            if (triggerAnimation) {
                // Set up for scroll-triggered animation
                const pathLength1 = iterativePath.getTotalLength();
                const pathLength2 = bigbuildPath.getTotalLength();

                iterativePath.style.strokeDasharray = pathLength1;
                iterativePath.style.strokeDashoffset = pathLength1;
                bigbuildPath.style.strokeDasharray = pathLength2;
                bigbuildPath.style.strokeDashoffset = pathLength2;

                // Remove any existing animation class
                iterativePath.classList.remove('animate-path');
                bigbuildPath.classList.remove('animate-path');

                // Trigger animation
                setTimeout(() => {
                    iterativePath.classList.add('animate-path');
                    bigbuildPath.classList.add('animate-path');

                    // Set final dash pattern for bigbuild after animation
                    setTimeout(() => {
                        bigbuildPath.style.strokeDasharray = '10, 5';
                        bigbuildPath.style.strokeDashoffset = '0';
                    }, 3500);
                }, 100);
            }

            milestonesGroup.appendChild(drawMilestones(data.iterative, 'milestone-iterative', maxY, triggerAnimation));
            milestonesGroup.appendChild(drawMilestones(data.bigbuild, 'milestone-bigbuild', maxY, triggerAnimation));

            updateStats(view);
            updateInsight(view);
        }

        // Update statistics
        function updateStats(view) {
            const stats = {
                'time-cost': {
                    iterative: ['4 weeks', 'First Prototype'],
                    bigbuild: ['6 months', 'Big Build MVP'],
                    cost1: ['$50K', 'Total Investment'],
                    cost2: ['$500K', 'Total Cost']
                },
                'efficacy': {
                    iterative: ['85%', 'Launch Efficacy'],
                    bigbuild: ['45%', 'Launch Efficacy'],
                    cost1: ['2 months', 'To 80% Efficacy'],
                    cost2: ['12+ months', 'To 80% Efficacy']
                },
                'risk': {
                    iterative: ['20%', 'Launch Risk'],
                    bigbuild: ['85%', 'Launch Risk'],
                    cost1: ['Week 2', 'Risk Validated'],
                    cost2: ['Month 6', 'Risk Discovered']
                },
                'value': {
                    iterative: ['Week 4', 'First Value'],
                    bigbuild: ['Month 6', 'First Value'],
                    cost1: ['3x ROI', 'Year 1'],
                    cost2: ['0.5x ROI', 'Year 1']
                }
            };

            const currentStats = stats[view];
            const statCards = document.querySelectorAll('.iterative-chart .stat-card');

            if (statCards.length >= 4) {
                statCards[0].querySelector('.stat-value').textContent = currentStats.iterative[0];
                statCards[0].querySelector('.stat-label').textContent = currentStats.iterative[1];

                statCards[1].querySelector('.stat-value').textContent = currentStats.bigbuild[0];
                statCards[1].querySelector('.stat-label').textContent = currentStats.bigbuild[1];

                statCards[2].querySelector('.stat-value').textContent = currentStats.cost1[0];
                statCards[2].querySelector('.stat-label').textContent = currentStats.cost1[1];

                statCards[3].querySelector('.stat-value').textContent = currentStats.cost2[0];
                statCards[3].querySelector('.stat-label').textContent = currentStats.cost2[1];
            }
        }

        // Update insight
        function updateInsight(view) {
            const insights = {
                'time-cost': 'While iterative development may reach full production slightly later, it delivers validated, user-tested features that achieve 85% efficacy from day one. Traditional big builds often launch at 45% efficacy and require expensive post-launch fixes.',
                'efficacy': 'Iterative development reaches high efficacy faster because each iteration incorporates real user feedback. Big builds guess at user needs and often miss the mark, requiring costly rebuilds.',
                'risk': 'Risk decreases rapidly with iterative development as assumptions are validated early. Big builds maintain high risk until launch, when it\'s too expensive to pivot.',
                'value': 'Iterative approaches deliver value from week 4, allowing for early revenue or investment. Big builds lock capital for 6+ months before any return.'
            };

            const insightTextElement = document.querySelector('.insight-text');
            if (insightTextElement) {
                insightTextElement.textContent = insights[view];
            }
        }

        // Initialize chart functionality
        function initializeChart() {
            // Get DOM elements
            svg = document.getElementById('mainChart');
            pathsGroup = document.getElementById('paths');
            milestonesGroup = document.getElementById('milestones');
            tooltip = document.querySelector('.tooltip');

            if (!svg || !pathsGroup || !milestonesGroup || !tooltip) {
                setTimeout(initializeChart, 100);
                return;
            }

            // Set up control buttons
            document.querySelectorAll('.control-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    document.querySelectorAll('.control-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    updateChart(btn.dataset.view, true); // Always animate on button click
                });
            });

            // Initialize with first chart (no animation initially)
            updateChart('time-cost', false);

            // Set up scroll-triggered animation
            setupScrollAnimation();
        }

        // Set up scroll-triggered animation
        function setupScrollAnimation() {
            let hasAnimated = false;

            const observerOptions = {
                threshold: 0.3, // Trigger when 30% of the chart is visible
                rootMargin: '0px 0px -10% 0px'
            };

            const chartObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting && !hasAnimated) {
                        hasAnimated = true;
                        // Trigger animation for current view
                        updateChart(currentView, true);
                    }
                });
            }, observerOptions);

            // Observe the chart section
            const chartSection = document.querySelector('.iterative-chart');
            if (chartSection) {
                chartObserver.observe(chartSection);
            }
        }

        // Initialize chart when page loads
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                initializeChart();
            }, 500);
        });
    </script>
</body>
</html>